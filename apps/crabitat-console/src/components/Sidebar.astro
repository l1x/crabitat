---
interface Props {
  issueCount: number;
  missionCount: number;
  agentCount: number;
  messageCount: number;
}

const { issueCount, missionCount, agentCount, messageCount } = Astro.props;
---

<aside class="sidebar">
  <div class="sidebar-header">
    <div class="sidebar-logo">
      <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M2 12c0-3 2.5-5 5-5s3 1 5 1 2.5-1 5-1 5 2 5 5" />
        <path d="M3 15c0 2 3 4 9 4s9-2 9-4" />
        <circle cx="8" cy="11" r="1" fill="currentColor" />
        <circle cx="16" cy="11" r="1" fill="currentColor" />
      </svg>
    </div>
    <span class="sidebar-brand">Crabitat</span>
    <span class="sidebar-version">v2</span>
  </div>

  <nav class="sidebar-nav">
    <a class="nav-item active" data-section="issues">
      <svg class="nav-item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
      Issues
      <span class="count-badge" data-count="issues">{issueCount}</span>
    </a>
    <a class="nav-item" data-section="missions">
      <svg class="nav-item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 3 21 3 21 8"/><line x1="4" y1="20" x2="21" y2="3"/><polyline points="21 16 21 21 16 21"/><line x1="15" y1="15" x2="21" y2="21"/><line x1="4" y1="4" x2="9" y2="9"/></svg>
      Missions
      <span class="count-badge" data-count="missions">{missionCount}</span>
    </a>
    <a class="nav-item" data-section="agents">
      <svg class="nav-item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
      Agents
      <span class="count-badge" data-count="agents">{agentCount}</span>
    </a>
    <a class="nav-item" data-section="messages">
      <svg class="nav-item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
      Messages
      <span class="count-badge" data-count="messages">{messageCount}</span>
    </a>
  </nav>

  <div class="sidebar-footer">
    <div class="footer-org">
      <div>
        <div class="footer-org-label">Mode</div>
        <div class="footer-org-name">Mock data</div>
      </div>
      <span class="footer-status footer-status--online">MOCK</span>
    </div>
    <div class="footer-user">
      <div class="footer-user-avatar">C</div>
      <div class="footer-user-text">crabitat-console v2.0.0</div>
    </div>
  </div>
</aside>
